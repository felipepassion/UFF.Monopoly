@inherits ComponentBase

@if (!string.IsNullOrWhiteSpace(ImageUrl) && Rows >= 1 && Cols >= 1)
{
    <div class="board-bg" style="@BuildStyle()">
        <img src="@ImageUrl" alt="board-background" style="width:100%;height:100%;object-fit:cover;" />
    </div>
}

@code {
    [Parameter] public int Rows { get; set; }
    [Parameter] public int Cols { get; set; }
    [Parameter] public int CellSize { get; set; }
    [Parameter] public string? ImageUrl { get; set; }
    [Parameter] public int Gap { get; set; } = 6; // same gap as grid

    private string BuildStyle()
    {
        var width = Cols * CellSize + Math.Max(0, Cols - 1) * Gap;
        var height = Rows * CellSize + Math.Max(0, Rows - 1) * Gap;
        return $"position:absolute;left:0;top:0;width:{width}px;height:{height}px;z-index:0;pointer-events:none;";
    }
}
